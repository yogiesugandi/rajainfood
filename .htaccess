# --- PENGATURAN DASAR KEAMANAN & ERROR HANDLING ---

# Menonaktifkan directory listing untuk mencegah orang melihat isi folder
Options -Indexes

# Mengatur halaman error kustom untuk 403 (Forbidden) dan 404 (Not Found)
ErrorDocument 403 /404.html
ErrorDocument 404 /404.html

# Melindungi file .htaccess itu sendiri
<Files ".htaccess">
  Order allow,deny
  Deny from all
</Files>

# --- LOGIKA REWRITE & BLOKIR AKSES FOLDER ---
<IfModule mod_rewrite.c>
  RewriteEngine On
  # Set RewriteBase jika situs Anda berada di subfolder '/rajainfood/'
  RewriteBase /rajainfood/

  # 1. BLOKIR AKSES LANGSUNG KE FOLDER TERTENTU (forms, scss)
  # Menggunakan flag [F] (Forbidden) untuk memberikan status 403, lebih baik daripada redirect 302
  RewriteRule ^forms/.*$ - [F,L,NC]
  RewriteRule ^assets/scss/.*$ - [F,L,NC]
  
  # 2. BLOKIR AKSES KE SEMUA FILE YANG DIAWALI DENGAN TITIK (dotfiles)
  # Ini mencegah akses ke file seperti .env, .gitignore, dll.
  RewriteCond %{REQUEST_URI} (^|/)\. [NC]
  RewriteRule ^ - [F,L]

  # 3. OPSIONAL: Aturan standar untuk Framework/Single Page Application (SPA)
  # Jika Anda menggunakan framework PHP (seperti CodeIgniter, Laravel, dll.) 
  # yang mengarahkan semua permintaan ke index.php:
  # RewriteCond %{REQUEST_FILENAME} !-f
  # RewriteCond %{REQUEST_FILENAME} !-d
  # RewriteRule ^(.*)$ index.php/$1 [L]

</IfModule>