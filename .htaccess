# Block direct access to all subfolders except allowed files
RewriteEngine On
RewriteCond %{REQUEST_URI} ^/assets/(css|img|js|scss|vendor|forms)/?$ [NC]
RewriteRule ^ - [F]

# Disable directory listing
Options -Indexes

# Set custom error pages
ErrorDocument 403 /404.html
ErrorDocument 404 /404.html

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /rajainfood/
  
  # BLOCK akses ke folder assets - REDIRECT ke 404.html
  RewriteCond %{REQUEST_URI} ^/rajainfood/assets/ [NC]
  RewriteRule ^ /rajainfood/404.html [R=302,L]
  
  # BLOCK akses ke folder forms - REDIRECT ke 404.html
  RewriteCond %{REQUEST_URI} ^/rajainfood/forms/ [NC]
  RewriteRule ^ /rajainfood/404.html [R=302,L]
  
  # BLOCK direktori listing
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^(.*)$ /rajainfood/404.html [R=302,L]
  
  # BLOCK dotfiles
  RewriteRule (^|/)\. /rajainfood/404.html [R=302,L]
</IfModule>

# Lindungi .htaccess
<Files ".htaccess">
  Deny from all
</Files>